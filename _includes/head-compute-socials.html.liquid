  {% comment %} Date {% endcomment %}
  {% capture socialDate %}{{ page.date | date: "%Y-%m-%d" }}{% endcapture %}
  {% comment %} Image {% endcomment %}
  {% capture main_image_defined %}x{{ page.main_image }}{% endcapture %}
  {% capture main_image_exists %}{% file_exists {{ page.main_image }} %}{% endcapture %}
  {% capture socialImage %}https://avatars.borisschapira.com/boris_1light_300_fuchsia.jpg{% endcapture %}
  {% if main_image_defined != 'x' and main_image_exists == "true" %}
    {% capture socialImage %}{{ site.url }}/{{ page.main_image }}{% endcapture %}
  {% else %}
    {% capture cat_image_path %}assets/images/category/{{ page.category | slugify }}.png{% endcapture %}
    {% capture cat_image %}{% file_exists {{ cat_image_path }} %}{% endcapture %}
    {% if cat_image == "true" %}
      {% capture socialImage %}{{ site.url }}/{{ cat_image_path }}{% endcapture %}
    {% endif %}
  {% endif %}
  {% comment %} Site Name {% endcomment %}
  {% capture socialSitename %}{{ site.name }}{% endcapture %}
  {% comment %} Author {% endcomment %}
  {% capture socialAuthor %}{{ site.author.name }}{% endcapture %}
  {% if page.by  != nil %}
    {% capture socialAuthor %}{{ page.by }}{% endcapture %}
  {% endif %}
  {% comment %} Page Title, description and URL {% endcomment %}
  {% capture socialTitle %}{{ site.title }}{% endcapture %}
  {% capture socialDescription %}{{ site.description }}{% endcapture %}
  {% capture socialUrl %}{{ site.url | append:page.url }}{% endcapture %}
  {% capture socialType %}website{% endcapture %}

  {% case page.type %}
    {% when "year" %}
      {% capture socialTitle %}Année {{ page.date | localize: "%Y", page.lang }} &middot; {{ site.title }}{% endcapture %}
      {% capture socialDescription %}Billets publiés en {{ page.date | localize: "%Y", page.lang }}{% endcapture %}
    {% when "month" %}
      {% capture socialTitle %}{{ page.date | localize: '%B %Y', page.lang }} &middot; {{ site.title }}{% endcapture %}
      {% capture socialDescription %}Billets publiés en {{ page.date | localize: '%B %Y', page.lang }}{% endcapture %}
    {% else %}
      {% capture socialTitle %}{{ page.title | strip_html }} &middot; {{ site.title }}{% endcapture %}
      {% capture socialDescription %}{{ page.excerpt | strip_html | truncatewords: 200 | strip_newlines | escape_once }}{% endcapture %}
      {% capture socialType %}article{% endcapture %}
  {% endcase %}
